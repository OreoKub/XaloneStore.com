<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>XaloneStore</title>

        <style>
            body {
                background-image: url('file:///C:/Users/Ooo/Downloads/bg.jpg');
                background-size: cover;
                background-position: center;
                font-family: Arial, sans-serif;
                color: #9e9e9e;
                background-position: center;
			    background-repeat: no-repeat;
			    background-attachment: fixed;
            }
        </style>

    </head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    
    <header class=p-3 style="background-color:rgb(0, 0, 0)" text-white">
        <div class="container" style="background-color:rgb(0, 0, 0)">
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="index.html" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
              <img src="file:///C:/Users/Ooo/Downloads/XaloneStore_Logo.jpg" width="70" height="70">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
            </a>
    
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
              
            </ul>
    
    
            <div class="text-end">
                <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/XaloneStore.html">
                    <button type="button" class="btn btn-link" style="color: rgb(255, 255, 255); text-decoration: none;">Home</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/TopUp.html">
                        <button type="button" class="btn btn-primary">เติมเงิน</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/Category.html">
                    <button type="button" class="btn btn-link" style="color: rgb(255, 255, 255); text-decoration: none;">สินค้า</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/Order_Product.html">
                    <button type="button" class="btn btn-link" style="color: rgb(255, 255, 255); text-decoration: none;">สั้งซื้อ</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/WheelSpin.html">
                    <button type="button" class="btn btn-link" style="color: rgb(255, 255, 255); text-decoration: none;">เกมสุ่ม</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/Contect.html">
                    <button type="button" class="btn btn-link" style="color: rgb(255, 255, 255); text-decoration: none;">ติดต่อ</button>
                    </a>
      
                    <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/Profile.html">
                    <button type="button" class="btn btn-outline-light me-2">โปรไฟล์</button>
                  </a>
              </div>
          </div>
        </div>
      </header>

        <body>
            <div class="col-lg-5  bg-Dark p-4 ms-2 m-lg-auto ms-2 me-2 pt-0 mb-5 mt-lg-0 mb-lg-5  " style="border-radius: 25px;">
                <div class="d-flex align-items-center mb-4">
                <img src="logo.png" class="me-2" style="max-height: 70px" alt="">
                <h5 class="bubble-main m-0" style="color: rgb(255, 255, 255);">เติมเงิน - Top up</h5>
                </div>
                <div class="row justify-content-between mb-3">
                <div class="col-lg mb-2">
                <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/TopUp.html" style="text-decoration: none;">
                <div class="container-fluid rounded border-hov p-3 ">
                <div class="d-flex">
                <img src="https://www.truemoney.com/wp-content/uploads/2022/01/truemoneywallet-sendgift-hongbao-20220125-icon-1.png" style="max-height: 50px;" alt="">
                <div class="ms-1">
                    <p class="font-bold  mb-0" style="color: rgb(255, 255, 255);">ซองอั่งเปาทรูมันนี่</p>
                    <p class="text-muted mb-0">กรอกลิงค์เลย</p>
                </div>
                </div>
                </div>
                </a>
                </div>
                <div class="col-lg mb-2">
                <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/Bank.html" style="text-decoration: none;">
                <div class="container-fluid rounded border-hov p-3 active">
                <div class="d-flex">
                <img src="file:///C:/Users/Ooo/Downloads/Bank-removebg.png" style="max-height: 50px;" alt="">
                <div class="ms-1">
                    <p class="font-bold  mb-0" style="color: rgb(255, 255, 255);">โอนผ่านธนาคาร</p>
                <p class="text-muted mb-0">เช็คสลิปเลย</p>
                </div>
                </div>
                </div>
                </a>
                </div>
                <div class="col-lg mb-2">
                <a href="file:///C:/Users/Ooo/Downloads/XaloneStore/CodeRedeem.html" style="text-decoration: none;">
                <div class="container-fluid rounded border-hov p-3  ">
                <div class="d-flex">
                <img src="https://cdn-icons-png.flaticon.com/128/744/744922.png" style="max-height: 50px;" alt="">
                <div class="ms-1">
                    <p class="font-bold  mb-0" style="color: rgb(255, 255, 255);">กรอกโค้ดรับรางวัล</p>
                <p class="text-muted mb-0">ใช้โค้ดเลย</p>
                </div>
                </div>
                </div>
                </a>
                </div>
                </div>
                <center data-aos="zoom-in" class="aos-init aos-animate">
                <div class="col-lg-7">
                <img src="file:///C:/Users/Ooo/Downloads/slip_verify.png" class="img-fluid">
                </div>
                <h5 class="text-start" style="color: rgb(255, 255, 255);"style="color: rgb(255, 255, 255);">บัญชีพร้อมเพย์</h5>
                <h5 class="text-start" style="color: rgb(255, 255, 255);">ชื่อบัญชี : หนุ่มหน้ามน คนหน้าหมี</h5>
                <div class="input-group text-start mb-3">
                <input type="text" class="form-control text-center" aria-describedby="bnum" id="bnumval" value="xxx-x-xxxxx-x" disabled="">
                <button class="btn btn-outline-success" type="button" id="bnum">คัดลอกเลขบัญชี</button>
                </div>
                <div class="text-start">
                <label for="upload" class="form-label m-0" style="color: rgb(255, 255, 255);">แนบรูปภาพสลิป</label>
                <input type="file" class="form-control" id="upload" aria-label="Upload">
                <img id="imageScanner" style="display: none;" src="#" alt="qr-code-scanner-online">
                </div>
                </center>
                <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
                <script>
                    $("#bnum").click(() => {
                        var copyText = document.getElementById('bnumval').value;
                        navigator.clipboard.writeText(copyText)
                    });
                
                    function File2Base64(file) {
                        return new Promise((resolve, reject) => {
                            const reader = new FileReader();
                            reader.readAsDataURL(file);
                            reader.onload = () => resolve(reader.result);
                            reader.onerror = (error) => reject(error);
                        });
                    }
                    async function imageDataFromSource(source) {
                        const image = Object.assign(new Image(), {
                            src: source
                        });
                        await new Promise((resolve) => image.addEventListener('load', () => resolve()));
                        const context = Object.assign(document.createElement('canvas'), {
                            width: image.width,
                            height: image.height,
                        }).getContext('2d');
                        context.imageSmoothingEnabled = false;
                        context.drawImage(image, 0, 0);
                        return context.getImageData(0, 0, image.width, image.height);
                    }
                    //	
                    $(function() {
                        $('#upload').change(function() {
                            Swal.fire({
                                icon: 'warning',
                                title: 'โปรดรอสักครู่',
                                text: "ระบบกำลังดำเนินการ โปรดห้ามรีเฟรช",
                                showConfirmButton: false,
                            });
                            const input = this;
                            const url = $(this).val();
                            const ext = url.substring(url.lastIndexOf('.') + 1).toLowerCase();
                            if (input.files && input.files[0] && (ext === "png" || ext === "jpeg" || ext === "jpg")) {
                                const reader = new FileReader();
                                reader.onload = async function(e) {
                                    const URLBase64 = await File2Base64(input.files[0]);
                                    const ImageData = await imageDataFromSource(URLBase64);
                                    const code = jsQR(ImageData.data, ImageData.width, ImageData.height);
                                    if (code && code.data) {
                                        var qrcode = code.data;
                                        console.log(qrcode);
                                        var formData = new FormData();
                                        formData.append('qrcode', qrcode);
                                        $.ajax({
                                            type: 'POST',
                                            url: 'system/slip.php',
                                            data: formData,
                                            contentType: false,
                                            processData: false,
                                        }).done(function(res) {
                                            result = res;
                                            Swal.fire({
                                                icon: 'success',
                                                title: 'สำเร็จ',
                                                text: result.message
                                            }).then(function() {
                                                window.location = "?page=slip";
                                            });
                                        }).fail(function(jqXHR) {
                                            console.log(jqXHR.responseText)
                                            res = jqXHR.responseJSON;
                                            Swal.fire({
                                                icon: 'error',
                                                title: 'เกิดข้อผิดพลาด',
                                                text: res.message
                                            }).then(function() {
                                                window.location = "?page=slip";
                                            });
                                        });
                                    } else {
                                        Swal.fire({
                                            icon: 'error',
                                            title: 'เกิดข้อผิดพลาด',
                                            text: 'สลิปไม่มี Qr Code',
                                        }).then(function() {
                                            window.location = "?page=slip";
                                        });
                                    }
                                }
                                reader.readAsDataURL(input.files[0]);
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'เกิดข้อผิดพลาด',
                                    text: 'อนุญาตเฉพาะนามสกุล PNG , JPEG และ JPG เท่านั้น โปรดเลือกใหม่',
                                });
                            }
                        });
                    });
                </script></div>
        </body>
        <footer class=" p-2 text-center text-secondary fw-bold " style="margin-top: 6em;">
            <div class="d-lg-flex m-auto" style="width: fit-content;">
            <p class="m-0 mb-2 mb-lg-0" style="font-size: 14px;">© 2024 XaloneStore 
            </p>
            <p class="d-lg-block d-none mb-2 mb-lg-0">&nbsp;&nbsp;|&nbsp;&nbsp;</p>
            <p class="mb-2 mb-lg-0">&nbsp;Made by <a href="https://discord.gg/EjuCJf56tc" target="_blank" class="xdnz-badge ps-3 pe-3" style="text-decoration: none;">XaloneStore</a>&nbsp;</p>
            <p class="d-lg-block d-none mb-2 mb-lg-0">&nbsp;&nbsp;|&nbsp;&nbsp;</p>
            <a href="https://discord.gg/EjuCJf56tc" target="_blank" class="scam-badge ps-3 pe-3" style="text-decoration: none;">
            <i class="bx bx-shield-minus"></i>&nbsp;&nbsp;รายงานสแกม / การโกง
            </a>
            </div>
            </footer>
</html>